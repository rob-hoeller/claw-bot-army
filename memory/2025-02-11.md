# 2025-02-11 - HBx Dashboard Development

## Project: HBx Dashboard (claw-bot-army)
Building control surface for OpenClaw gateway with Lance and Rob(s).

## Completed PRs
- **PR #10-12**: Agents page, org chart, coordination docs
- **PR #14 merged**: Chat interface with tabbed agent panel
- **PR #15 merged**: WORKFLOW.md delivery process
- **PR #16 merged**: Gateway integration (API routes with SSE streaming)
- **PR #17 merged**: Gateway setup documentation
- **PR #18 merged**: Activity Feed, Status Indicators, Admin View, Half-page panel

## Infrastructure
- **Supabase credentials**: Configured in `.env.local`
- **Gateway chatCompletions**: Enabled (Rob L updated config)
- **Gateway config backup**: `~/.openclaw/openclaw.json.backup-20260211-164603`

## Current Work
- **Branch**: `hbx/phase4-schema` (build green, awaiting Lance review)
- **Phase 4a**: Supabase schema (`002_phase4_schema.sql`) + Feature Board UI
- **New tables**: departments, agents, features, bugs, learning_logs, agent_activity
- **Sidebar**: Added Features and Bugs navigation

## Pending Tasks
1. **Feature detail side panel** - Clickable cards → slide-out panel with full context (conversations, Vercel/GitHub links, tasks, related feed items)
2. **UI compactness overhaul** - Reduce spacing/padding (~0.5x density) for more content without scrolling
3. **Phase 4c-4e**: Innovation agent MD files (SOUL, IDENTITY, AGENTS, TOOLS, MEMORY, HEARTBEAT, USER)
4. **Phase 4f**: Agent-to-agent communication + task flow

## Key Decisions
- **Supabase for persistence**: conversations, messages, departments, agents, features, bugs, learning_logs
- **Gateway API routes**: `/api/chat/send` (SSE streaming), `/api/chat/sessions`
- **Admin read-only**: When viewing others' chats, input is hidden
- **Half-page panel default**: 600-700px slide-in, expandable to full screen
- **Innovation Dept (IN)**: HBx_IN1 (Product Architect), HBx_IN2 (Code Factory), HBx_IN3 (Research Lab)
- **HBx Role**: Platform Director - manages feature/bug boards, coordinates agents, reviews before PR submission
- **Agent learning**: 4-6 hrs/day education when not working, logged to `learning_logs` table

## Workflow Protocol
- Present plan → "plan approved" → build → verify green → notify → "submit PR" → create PR with Robs as reviewers
- Only notify when Vercel build is **green** (fix silently if fails)
- Follow CODE-FACTORY.md, COORDINATION.md, WORKFLOW.md

## Blocked
- Real agent responses require Tailscale Funnel setup (Vercel → Gateway)
- Need Vercel env vars: `OPENCLAW_GATEWAY_URL`, `OPENCLAW_GATEWAY_TOKEN` (after Tailscale)

## Docs Created
- `docs/GATEWAY-SETUP.md`
- `docs/HBX-DASHBOARD-OVERVIEW.md`

## Repo
`rob-hoeller/claw-bot-army` on GitHub
