# 2025-02-11 - HBx Dashboard Development

## Project: HBx Dashboard (claw-bot-army)
Building control surface for OpenClaw gateway with Lance and Rob(s).

### Completed
- **PR #10 merged**: Agents page with org chart, HBx 7 files, Global Knowledge panel
- **PR #11 merged**: Dashboard/menu name changes (by Rob)
- **PR #12 created**: Coordination protocol (COORDINATION.md)
- Created `/global-knowledge/CODE-FACTORY.md` - full constitution for development
- Created `/global-knowledge/COORDINATION.md` - multi-developer protocol
- Built shared components: `EmptyState.tsx`, `ErrorBanner.tsx`, `Skeletons.tsx`
- Supabase schema: `conversations` and `messages` tables with RLS (Lance ran migration)
- Phase 1 Chat UI: ChatPanel, MessageBubble, ChatInput components
- Agent panel now tabbed: Chat | Files | Status | Cron | Memory

### In Progress
- **PR #13** (`hbx/chat-interface` branch): Chat interface - ON HOLD for user Vercel preview review

### Key Architecture Decisions
- **Option B for files**: Dashboard writes to OpenClaw workspace via gateway API
- **Supabase for chat**: Messages in `conversations` + `messages` tables
- **Multi-channel chat**: Each user-agent pair has own conversation
- **Gateway auth**: Server-side API key in Next.js API routes

### Workflow
- Approval flow: Present plan → approval → execute → push to Vercel → user reviews preview → then authorize PR submission
- No changes to auth, DB schema, or core routing without explicit direction

### Stack
Next.js, shadcn/ui, Tailwind, Supabase, lucide-react

### Next Steps
1. Await Lance's Vercel review and PR #13 authorization
2. Phase 2: `/api/chat/*` routes connecting to OpenClaw gateway
3. Phase 3: File upload to Supabase Storage, admin conversation list
4. Phase 4: Full agent panel (Status, Cron, Memory tabs with live data)

### Blocked
- Gateway auth method not yet implemented (need API key stored server-side)
- Lance to provide Supabase service role key

### Repo
`rob-hoeller/claw-bot-army` on GitHub
